# AnÃ¡lise de Gaps do Projeto vs Requisitos SAS

Com base nos requisitos fornecidos e no estado atual do cÃ³digo (backend e mobile), aqui estÃ¡ a anÃ¡lise do que estÃ¡ implementado e do que estÃ¡ em falta ou precisa de atenÃ§Ã£o.

## âœ… Implementado

*   **AutenticaÃ§Ã£o:** O sistema permite login (email/password).
*   **GestÃ£o de BeneficiÃ¡rios:** Listagem, CriaÃ§Ã£o e EdiÃ§Ã£o completas.
*   **GestÃ£o de Stock (AvanÃ§ado):**
    *   InserÃ§Ã£o de produtos e categorias.
    *   **Controlo de Validade:** Alertas de produtos a expirar.
    *   **LÃ³gica de Reserva (ATP):** O stock Ã© cativado no agendamento e abatido na conclusÃ£o.
    *   **AtualizaÃ§Ã£o AutomÃ¡tica:** Trigger na BD garante integridade ao concluir entrega.
*   **GestÃ£o de Entregas:**
    *   Agendamento com validaÃ§Ã£o de stock.
    *   **Cancelamento:** Possibilidade de anular entrega e repor stock.
    *   **ConclusÃ£o:** Baixa automÃ¡tica de stock fÃ­sico e reserva.
*   **Sistema de NotificaÃ§Ãµes (WorkManager):**
    *   Alertas locais a cada 4h.
    *   Notifica entregas do dia e validades crÃ­ticas (7 dias).
*   **RelatÃ³rios e ExportaÃ§Ã£o:**
    *   RelatÃ³rios de Entregas, Stock e Validade/Quebras.
    *   GeraÃ§Ã£o de **PDF** diretamente no servidor (backend) e download na App.
    *   InclusÃ£o de estados "CrÃ­tico", "AtenÃ§Ã£o" e "Expirado".

## âš ï¸ Em Falta CrÃ­tica (Gaps Principais)

### 1. GestÃ£o de Quebras (HistÃ³rico Detalhado)
*   **Requisito:** *"O produto caiu e estragou-se... indicar que foi para o lixo"*
*   **Estado Atual:**
    *   âœ… AdicionÃ¡mos coluna `quantidade_danificada` e estado "Danificado" nos relatÃ³rios.
    *   âš ï¸ Falta: Uma interface dedicada na App para "Registar Quebra" (atualmente faz-se via ediÃ§Ã£o manual ou "Apagar" direto).
    *   **SoluÃ§Ã£o:** Criar botÃ£o "Registar Quebra" no detalhe do lote que move stock de `atual` para `danificada`.

## ðŸ’¡ SugestÃµes (Opcionais / Nice to have)

*   **Leitura de CÃ³digo de Barras:** Sugerido nos requisitos para agilizar entradas/saÃ­das.
*   **Login com CÃ³digo Pin:** O sistema atual usa Email/Password.
*   **Website PÃºblico:** A API jÃ¡ suporta (`public.txt`), mas o frontend web ainda carece de integraÃ§Ã£o visual (botÃµes de PDF adicionados na documentaÃ§Ã£o).

---

## PrÃ³ximos Passos Recomendados

1.  **Feedback Visual:** Adicionar indicadores visuais (cores) nas listas para produtos a expirar.
2.  **App Web:** Integrar os botÃµes de relatÃ³rio no frontend do site.
3.  **Testes de Campo:** Validar o ciclo completo (Agendar -> NotificaÃ§Ã£o -> Concluir) em ambiente real.
