# An√°lise de Gaps do Projeto vs Requisitos SAS

Com base nos requisitos fornecidos e no estado atual do c√≥digo (backend e mobile), aqui est√° a an√°lise do que est√° implementado e do que est√° em falta ou precisa de aten√ß√£o.

## ‚úÖ Implementado

*   **Autentica√ß√£o:** O sistema permite login (email/password). Embora o requisito mencione "C√≥digo de Acesso", a autentica√ß√£o por credenciais cumpre o prop√≥sito de identificar o t√©cnico.
*   **Gest√£o de Benefici√°rios:** Listagem, Cria√ß√£o e Edi√ß√£o com todos os campos solicitados (incluindo notas adicionais).
*   **Gest√£o de Stock (B√°sico):** Inser√ß√£o de produtos, categorias e lotes com validade e associa√ß√£o a campanhas.
*   **Gest√£o de Campanhas:** CRUD de campanhas funcional.
*   **Agendamento de Entregas:** √â poss√≠vel agendar entregas para benefici√°rios.
*   **Listas e Filtros:** Listagens de stock e benefici√°rios funcionais.

## ‚ö†Ô∏è Em Falta Cr√≠tica (Gaps Principais)

### 1. Atualiza√ß√£o Autom√°tica de Stock (Critical)
*   **Requisito:** *"ap√≥s atualiza√ß√£o do estado da entrega... dever√° ocorrer a atualiza√ß√£o autom√°tica do stock existente"*
*   **Estado Atual:** O backend apenas marca a entrega como "entregue". **N√£o existe l√≥gica para desconta a quantidade entregue do stock.**
*   **Impacto:** O stock f√≠sico deixar√° de coincidir com o digital rapidamente.
*   **Solu√ß√£o:** Alterar o endpoint [concluirEntrega](file:///c:/Projetos/loja-social-android/app/src/main/java/com/example/loja_social/api/ApiService.kt#191-199) para subtrair as quantidades dos itens de stock associados.

### 2. Sistema de Notifica√ß√µes
*   **Requisito:** *"receber notifica√ß√µes de lembretes"* (entregas) e *"alertas de validade"* (push/local notifications).
*   **Estado Atual:** ‚úÖ **Implementado** (WorkManager).
    *   Verifica a cada 4 horas.
    *   Avisa de: Entregas agendadas para o dia e produtos a expirar (pr√≥ximos 7 dias).
*   **A√ß√£o:** Testar em dispositivo real (emuladores podem n√£o mostrar notifica√ß√µes sem configura√ß√£o extra).


### 3. Exporta√ß√£o de Relat√≥rios
*   **Requisito:** *"Exporta√ß√£o de relat√≥rios... possibilidade de gerar e extrair relat√≥rios"*
*   **Estado Atual:** ‚úÖ **Implementado** (Android + Backend).
    *   Backend: Rotas `/relatorios/entregas`, `/stock`, `/validade`.
    *   Mobile: Ecr√£ `RelatoriosScreen` gera PDF.
*   **A√ß√£o:** Validar funcionamento no dispositivo.

### 4. Gest√£o de Quebras/Produtos Estragados
*   **Requisito:** *"O produto caiu e estragou-se, o t√©cnico pode eliminar o produto, indicando que foi para o lixo"*
*   **Estado Atual:** Existe apenas a op√ß√£o de "Apagar Lote" (Hard Delete). N√£o h√° registo hist√≥rico de "perda" vs "consumo".
*   **Solu√ß√£o:** Ao apagar/editar stock, perguntar o motivo e, idealmente, mover para uma tabela de hist√≥rico de "Sa√≠das de Stock" em vez de apagar o registo.

## üí° Sugest√µes (Opcionais / Nice to have)

*   **Leitura de C√≥digo de Barras:** Sugerido nos requisitos para agilizar entradas/sa√≠das. Atualmente √© tudo manual.
*   **Login com C√≥digo Pin:** O requisito falava em c√≥digo de acesso visual. O sistema atual usa Email/Password cl√°ssico.

---

## Pr√≥ximos Passos Recomendados

1.  **Resolver a L√≥gica de Stock:** √â o ponto mais cr√≠tico para a integridade dos dados.
2.  **Notifica√ß√µes Locais:** Para dar vida aos alertas de validade e entregas.
3.  **Relat√≥rios:** Implementar pelo menos um relat√≥rio b√°sico (PDF).
